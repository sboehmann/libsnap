<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>libsnap &mdash; libsnap API Documentation</title>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
    <script type="text/javaScript" src="search/search.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <link href="doxygen_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body style="margin: 0; padding: 0;" onload='searchBox.OnSelectItem(0);'>
<div>
  <h1><a href='http://hilefoks.github.com/libsnap/' title="libsnap is a portable open-source S.N.A.P implementation" style="font-size: 1.5em; font-weight: bold; color: #0044b3; text-decoration: none;">libsnap</a></h1>
  <h2 style="text-align:center;">API Documentation</h2>
</div>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>Project Description </h1>  </div>
</div>
<div class="contents">
<p><b> <a class="el" href="index.html">Overview</a> | <a class="el" href="description.html">Project Description</a> | <a class="el" href="development.html">Development</a> | <a class="el" href="references.html">References</a> <hr/>
</b></p>
<div align="center">
<img src="luftschiff.png" alt="luftschiff.png"/>
</div>
<p>An der Fachhochschule Emden/Leer wird im Rahmen des Projektes Autonome Systeme ein autonomes Luftschiff entwickelt. Diese Arbeit dokumentiert die Entwicklung des Teilmoduls Telemetrie-Protokoll.</p>
<h2><a class="anchor" id="motivation"></a>
Motivation</h2>
<p>Das Luftschiff soll mittels Luftschnittstelle in die Lage versetzt werden, Telemetriedaten an eine Bodenstation zur weiteren Auswertung zu übermitteln. Auch die Bodenstation soll ihrerseits die Möglichkeit besitzen, Kontakt mit dem Schiff aufzunehmen, um beispielsweise Steuerinformationen zu übermitteln.</p>
<p>Zu diesem Zweck muss ein geeignetes bidirektionales Kommunikationsprotokoll implementiert werden. Dabei ist auf die besonderen Ressourcenbeschränkungen im Zusammenhang mit eingebetteten Systemen sowie der hohen Störanfälligkeit einer Luftschnittstelle zu achten.</p>
<p>Im Rahmen der vorliegenden Arbeit wurden verschiedene Protokolle evaluiert. Dabei konnte ein geeignetes Protokoll identifiziert werden. Im weiterem Verlauf dieser Arbeit wurde dieses anhand öffentlich zugänglicher Informationen und insbesondere einer ausführlichen Protokoll-Spezifikation implementiert.</p>
<h2><a class="anchor" id="current"></a>
Evaluation</h2>
<p>Untersucht man das Angebot einschlägiger Elektronik-Versandhäuser, stellt man schnell fest, dass der Markt ein reichhaltiges Angebot an Kleinstgeräten auf Basis eingebetteter Systeme anbietet. Insbesondere auch das Angebot an Systemen, die mittels Luftschnittstelle eine gewisse Kommunikation betreiben, ist reichhaltig. Hierzu zählen beispielsweise Funkschaltsysteme, schwenkbare Videoüberwachungsanlage, Systeme aus dem Bereich des Modellsports und Wetterstationen.</p>
<p>Folgerichtig müssen viele dieser Systeme mit einem Kommunikationsprotokoll ausgestattet sein. Ausserdem muss ein solches Protokoll ein ähnliches Leistungsspektrum abdecken, wie das, das für das gesuchte Telemetrieprotokoll des Luftschiffes vonnöten ist.</p>
<p>Weitere Recherchen in diese Richtung ergaben jedoch, das nahezu jedes untersuchte System sein eigenes, speziell an die jeweiligen Bedürfnisse angepasstes Protokoll verwendet. In allen Fällen handelt es sich zudem um proprietäre Protokolle, womit sie für eine Verwendung im Luftschiff ungeeignet sind.</p>
<p>Ebenfalls untersucht wurde der Bereich des Amateuerfunk. Hier wird das standardisierte Protokoll AX.25 eingesetzt, um Daten über einen Funk-Kanal zu übertragen.</p>
<p>AX.25 besitzt einen relativ fixen Aufbau. Jedes Paket schließt mit einer 16 Bit breiten Prüfsumme ab. Zur Adressierung werden immer mindestens 112 Bit, also 14 Byte, belegt. Ein derart großer Adressraum ist für den geplanten Einsatzbereich allerdings unerheblich. Hierdurch erweist sich auch AX.25 als ungeeignet.</p>
<p>Recherchen im Umfeld des Modellbauer-Handwerks ergaben, dass hier ein weiteres Protokoll eine gewisse Verbreitung gefunden hat. Es handelt sich um <code>S.N.A.P</code>. <code>S.N.A.P</code> ist ein Netzwerkprotokoll, entwickelt von der schwedischen Firma HTC. Im Gegensatz zu AX.25 ist <code>S.N.A.P</code> weitaus flexibler konfigurierbar. Seine minimale Paketlänge beträgt 3 Byte. Dennoch unterstützt auch <code>S.N.A.P</code> eine bis zu 48 Bit breite Adressierung. Auch im Bezug auf das verwendete Prüfsummen-Verfahren ist das Protokoll weitaus flexibler, bietet es doch acht verschiedene Fehlerdetektionsmethoden an. Trotz dieses Leistungsspektrums ist <code>S.N.A.P</code> aber dennoch speziell auf den Einsatz in eingebetteten Systemen hin entwickelt worden.</p>
<h2><a class="anchor" id="implementation"></a>
Implementierung</h2>
<p>Die Implementierung des Protokolls erfolgte in ANSI C. Zur Unterstützung einer testgetriebenen Entwicklung wurde das C Unit Test Framework CUnit verwendet. Zudem wurden zur Kontrolle einer guten Testabdeckung das Code-Coverage-Tool Gcov eingesetzt.</p>
<p>Als Build-System wurde das plattformunabhängige CMake bemüht. Das entsprechende Makefile ist so konfiguriert, dass bei einem Build-Lauf neben der Übersetzung der Softwarekomponenten auch die entsprechenden Unit-Tests ausgeführt werden. Auch alle weiteren Programmierwerkzeuge <em>(Doxygen, gcov, ...)</em> sind entsprechend eingebunden.</p>
<p>Alle zusätzlichen Funktionen werden, ebenso wie die weiter unten aufgeführte Software, nur dann erstellt, wenn entsprechende Abhängigkeiten erfühlt sind. Diese Abhängigkeiten sind für das Erstellen der Bibliothek libsnap jedoch unerheblich und gelten daher als optional.</p>
<ul>
<li>CUnit </li>
<li>lcov </li>
<li>Doxygen </li>
<li>PDFLatex sowie Beamer </li>
<li>Jekyll </li>
<li>Qt 4.5, kdelibs 4.4 sowie Okteta 0.4 (Hex-Editor Komponente)</li>
</ul>
<div align="center">
<img src="lcov_1.png" alt="lcov_1.png"/>
<p><strong>Bildschirmfoto der generierten Code-Coverage Analyse</strong></p></div>
 <h3><a class="anchor" id="csnap"></a>
csnap</h3>
<p>Das Programm csnap stellt eine kommandozeilenorientierte Schnittstelle zu den Funktionen der Bibliothek libsnap dar. Dieses Programm ermöglicht die Ein- und Ausgabe von S.N.A.P Datenpacket. Auf die verschiedenen Konfigurationsmöglichkeiten der Bibliothek kann mittels einer Vielzahl von Kommandozeilenparameter Einfluss genommen werden. csnap wurde ebenfalls in der Programmiersprache C entwickelt.</p>
<div align="center">
<img src="csnap_1.png" alt="csnap_1.png"/>
<p><strong>Bildschirmfoto des Programm csnap</strong></p></div>
 <h3><a class="anchor" id="snapgauge"></a>
snapgauge</h3>
<p>Desweiteren wurde ein GUI-Programm zur dynamischen Analyse von S.N.A.P. Datenpaketen entwickelt. Das Programm ist in C++ geschrieben. Es basiert auf der C++-Klassenbibliothek Qt der Firma Nokia sowie auf den Bibliotheken des KDE-Projekts.</p>
<div align="center">
<img src="snapgauge_3.png" alt="snapgauge_3.png"/>
<p><strong>Bildschirmfoto des Programm snapgauge</strong></p></div>
 <h2><a class="anchor" id="conclusion"></a>
Zusammenfassung und Ausblick</h2>
<p>Bei der Implementierung wurden Spezifikationskonformität und hohe Portabilität in den Vordergrund gestellt.</p>
<p>Für den Einsatz am Luftschiff sinnvolle oder sogar nötige Minimierungen, Optimierungen oder andersartige Anpassungen wurden nicht berücksichtigt. Es erscheint sinnvoller, eine allgemeine, umfassende, quelloffene und leicht verständliche Implementierung zu besitzen. Auch darf erwartet werden, dass eine für den speziellen Einsatzzweck optimierte Lösung leicht abgeleitet werden kann.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Zu frühe Optimierung ist die Wurzel allen Übels</dd></dl>
<p>In der aktuellen Version wurden bisher nicht alle in der S.N.A.P. Spezifikation beschriebenen und als optional gekennzeichneten Funktionen implementiert. Für den Einsatz am Luftschiff wäre aus heutiger Sicht die Funktion "Command Mode" jedoch durchaus wünschenswert. </p>
</div>
    <hr size="1"/>
    <div align=right>S.N.A.P Library API Reference | Generated Wed Sep 29 2010 13:39:06 by Doxygen 1.7.1</div>
  </body>
</html>
