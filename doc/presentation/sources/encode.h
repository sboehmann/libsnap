bool snap_encode(
	snap_t *ptr,
	const uint8_t *in_data,
	size_t in_data_size,
	uint8_t *out_data,
	size_t *out_data_pos,
	size_t out_data_size
);